@* @model ActiveStudy.Web.Areas.Crm.Models.Classes.ClassScheduleTemplateViewModel *@
@* *@
@* @{ *@
@*     ViewBag.Title = "title"; *@
@* } *@
@* *@
@* <form asp-action="CreateScheduleTemplate" *@
@*       asp-route-schoolId="@Model.Class.SchoolId" *@
@*       asp-route-id="@Model.Class.Id"> *@
@*     <input asp-for="EffectiveFrom" /> *@
@*     <input asp-for="EffectiveTo" /> *@
@*     <table class="table"> *@
@*         <thead> *@
@*         <tr> *@
@*             <th></th> *@
@*             @foreach (var dayOfWeek in Model.DayOfWeeks) *@
@*             { *@
@*                 <th style="white-space: nowrap;">@dayOfWeek</th> *@
@*             } *@
@*         </tr> *@
@*         </thead> *@
@*         @for (var i = 0; i < Model.Periods.Count; i++) *@
@*         { *@
@*             var period = Model.Periods[i]; *@
@*             <tr> *@
@*                 <td style="white-space: nowrap;"> *@
@*                     <input type="time" name="Periods[@i].Start" value="@period.Start.ToString("hh\\:mm")" min="00:00" max="24:00"/> *@
@*                     <input type="time" name="Periods[@i].End" value="@period.End.ToString("hh\\:mm")" min="00:00" max="24:00"/> *@
@*                 </td> *@
@*                 @foreach (var dayOfWeek in Model.DayOfWeeks) *@
@*                 { *@
@*                     <td style="white-space: nowrap; border: 1px solid black;"> *@
@*                         <div style="display: flex;flex-direction: column;"> *@
@*                             <select asp-for="Periods[i].Lessons[dayOfWeek].TeacherId" asp-items="@Model.Teachers"></select> *@
@*                             <select asp-for="Periods[i].Lessons[dayOfWeek].SubjectId" asp-items="@Model.Subjects"></select> *@
@*                         </div> *@
@*                     </td> *@
@*                 } *@
@*             </tr> *@
@*         } *@
@*         <tr> *@
@*             <td> *@
@*                 <button type="submit">Save</button> *@
@*             </td> *@
@*         </tr> *@
@*     </table> *@
@* </form> *@
@* *@
@* $1$ @section Scripts #1# *@
@* $1$ { #1# *@
@* $1$     <script> #1# *@
@* $1$         const app = Vue.createApp({}); #1# *@
@* $1$         app.component('schedule-item', { #1# *@
@* $1$           data() { #1# *@
@* $1$             return { #1# *@
@* $1$                 enabled: false, #1# *@
@* $1$                 teachers: @Html.Raw(Json.Serialize(Model.Teachers)), #1# *@
@* $1$                 subjects: @Html.Raw(Json.Serialize(Model.Subjects)) #1# *@
@* $1$             } #1# *@
@* $1$           }, #1# *@
@* $1$           methods: { #1# *@
@* $1$           }, #1# *@
@* $1$           template: ` #1# *@
@* $1$ <input type="checkbox" v-model="enabled" /> #1# *@
@* $1$ <div v-if="enabled" style="display: flex;flex-direction: column;"> #1# *@
@* $1$     <select> #1# *@
@* $1$       <option v-for="teacher in teachers" :value="teacher.id">{{ teacher.fullName }}</option> #1# *@
@* $1$     </select> #1# *@
@* $1$     <select> #1# *@
@* $1$       <option v-for="subject in subjects" :value="subject.id">{{ subject.title }}</option> #1# *@
@* $1$     </select> #1# *@
@* $1$ </div>` #1# *@
@* $1$         }); #1# *@
@* $1$ #1# *@
@* $1$         app.mount('#app') #1# *@
@* $1$     </script> #1# *@
@* $1$ } #1# *@
